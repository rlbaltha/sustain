{# sustain/app/Resources/views/base.html.twig #}
<!DOCTYPE html>
<html {% if 'default' not in app.request.attributes.get('_route') %}class="full"{% endif %}>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Watershed UGA{% endblock %}</title>

    {% block stylesheets %}
        {% stylesheets '@bootstrap_less' combine=true  output='css/compiled/main.css' %}
        <link href="{{ asset_url }}" type="text/css" rel="stylesheet"/>{% endstylesheets %}
        <link href='https://fonts.googleapis.com/css?family=Josefin+Sans&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
        <link type="text/css" rel="stylesheet" href="{{ asset('bundles/app/css/local.css') }}">
    {% endblock %}

    {% block javascripts %}
        {% javascripts '@jquery_js' '@jqueryui_js' '@bootstrap_js' combine=true output='js/compiled/main.js' %}
        <script src="{{ asset_url }}"></script>

        <script language="javascript">
            $(document).ready(function () {
                var active_route = '{{ app.request.attributes.get('_route') }}';
                if (active_route.includes("_")) {
                    var currentactive= '#' + active_route.substring(0, active_route.indexOf('_'));
                }
                else {
                    var currentactive = '#' + active_route;
                }
                $('.active').removeClass('active');
                $(currentactive).addClass('active');
            });
        </script>
        {% endjavascripts %}
    {% endblock %}

    <link rel="icon" href="{{ asset('bundles/app/images/favicon.ico') }}" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon">
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{{ path('default') }}">{{ application_name }}</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li id="skip">
                    <a href="#main_content">Skip Navigation</a>
                </li>
                <li id="theme" class=""><a title="Courses" href="{{ path('theme') }}">Getting Started</a></li>
                <li id="module"><a href="{{ path('module') }}"> Modules</a></li>
                <li id="objective"><a href="{{ path('objective') }}"> Objectives</a></li>
                <li id="activity"><a href="{{ path('activity') }}"> Activities</a></li>
                <li id="file"><a title="Courses" href="{{ path('file') }}">Resources</a></li>
                <li id="mapset"><a href="{{ path('mapset') }}"> Maps</a></li>
                <li id="user"><a href="{{ path('user') }}"> Profiles</a></li>
                <!-- <li><a href="{{ path('sample') }}"> Samples</a></li> -->
            </ul>
            <ul class="nav navbar-nav navbar-right">
                {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
                    <li><a href="{{ path('user_profile') }}">My Profile</a></li>
                    <li>
                        <a title="Logout" href="{{ path('fos_user_security_logout') }}">Logout</a>
                    </li>
                {% else %}
                    <li>
                        <a title="Login" href="{{ path('fos_user_security_login') }}">Login</a>
                    </li>
                {% endif %}
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>


<div style="margin-top: 70px;">
    {% if 'default' in app.request.attributes.get('_route') or app.request.attributes.get('_route') == 'theme' or 'page' in app.request.attributes.get
    ('_route') %}
    {% else %}
        <div class="col-sm-2 sidebar hidden-xs">
            {% block sidebar %}
            {% endblock %}
        </div>

    {% endif %}
    <div class="{% if 'default' in app.request.attributes.get('_route')  or app.request.attributes.get('_route') == 'theme' %}col-sm-12{% else %}col-sm-10{% endif %}">
        {% block body %}
        {% endblock %}
    </div>
</div>

</body>
</html>