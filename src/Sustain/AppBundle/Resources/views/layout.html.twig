{# Marca/FileBundle/Resources/views/layout.html.twig #}

{% extends '::base.html.twig' %}

{% block title %}{{ application_name }}{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}


{% block sidebar %}
    {% if 'event' in app.request.attributes.get('_route') or 'opportunity' in app.request.attributes.get('_route') or 'page' in app.request.attributes.get
    ('_route') %}
        <ul class="nav nav-sidebar list-unstyled" style="margin-top: 20px;">
            <li><a href="{{ path('event') }}">Events</a></li>
            <li><a href="{{ path('opportunity', {'type': 'service'}) }}">Partners</a></li>
            <li><a href="{{ path('opportunity', {'type': 'intern'} ) }}">Internships</a></li>
            <li><a href="{{ path('page_show', { 'id': 10 }) }}">Service Learning</a></li>
            <li><a href="{{ path('page_stories') }}">Stories</a></li>
        </ul>
    {% endif %}

    {% if tags is defined %}
        <h2 style="font-size: medium">Labels</h2>
        {% for tag in tags %}
            {% if 'file' in app.request.attributes.get('_route') %}
                <a href="{{ path('files_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right" style="background-color: {{ tag.color }};
                            ">{{ tag.name }}</span></a>
            {% elseif 'module' in app.request.attributes.get('_route') %}
                <a href="{{ path('modules_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right" style="background-color: {{ tag.color }};
                            ">{{ tag.name }}</span></a>
            {% elseif 'objective' in app.request.attributes.get('_route') %}
                <a href="{{ path('objectives_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right"
                                                                                 style="background-color: {{ tag.color }};
                                                                                         ">{{ tag.name }}</span></a>
            {% elseif 'activity' in app.request.attributes.get('_route') %}
                <a href="{{ path('activity_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right"
                                                                               style="background-color: {{ tag.color }};
                                                                                       ">{{ tag.name }}</span></a>
            {% else %}
                <span class="label label-default margin-right" style="background-color: {{ tag.color }};">{{ tag.name }}</span>
            {% endif %}
        {% endfor %}
    {% endif %}

    {% if is_granted('ROLE_ADMIN') %}
        <hr/>
        <ul class="nav nav-sidebar list-unstyled">
            <li>Labels</li>
            <li><a href="{{ path('tag') }}"> List Labels</a></li>
            <li><a href="{{ path('tag_new') }}">New Label</a></li>
            <li>Pages</li>
            <li><a href="{{ path('section') }}"> List Sections</a></li>
            <li><a href="{{ path('section_new') }}">New Section</a></li>
            <li><a href="{{ path('page') }}"> List Pages</a></li>
            <li><a href="{{ path('page_new') }}">New Page</a></li>
        </ul>
    {% endif %}
{% endblock %}
