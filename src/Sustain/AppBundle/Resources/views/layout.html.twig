{# Marca/FileBundle/Resources/views/layout.html.twig #}

{% extends '::base.html.twig' %}

{% block title %}{{ application_name }}{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}


{% block sidebar %}
    {% if 'event' in app.request.attributes.get('_route') or 'opportunity' in app.request.attributes.get('_route') or 'page' in app.request.attributes.get
    ('_route')%}
        <ul class=" nav nav-sidebar list-unstyled" style="margin-top: 20px;">
            <li><a href="{{ path('event') }}">Events</a></li>
            <li><a href="{{ path('opportunity') }}">Internships</a></li>
            <li><a href="{{ path('page_show', { 'id': 2 }) }}">Service Learning</a></li>
        </ul>
    {% endif %}

    {% if tags is defined %}
        <h2 style="font-size: medium">Labels</h2>
        {% for tag in tags %}
            {% if 'file' in app.request.attributes.get('_route') %}
                <a href="{{ path('files_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right" style="background-color: {{ tag.color }};
                            ">{{ tag.name }}</span></a>
            {% elseif 'module' in app.request.attributes.get('_route') %}
                <a href="{{ path('modules_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right" style="background-color: {{ tag.color }};
                            ">{{ tag.name }}</span></a>
            {% elseif 'objective' in app.request.attributes.get('_route') %}
                <a href="{{ path('objectives_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right"
                                                                                 style="background-color: {{ tag.color }};
                                                                                         ">{{ tag.name }}</span></a>
            {% elseif 'activity' in app.request.attributes.get('_route') %}
                <a href="{{ path('activity_by_tag', {'tag': tag.id}) }}"><span class="label label-default margin-right"
                                                                               style="background-color: {{ tag.color }};
                                                                                       ">{{ tag.name }}</span></a>
            {% else %}
                <span class="label label-default margin-right" style="background-color: {{ tag.color }};">{{ tag.name }}</span>
            {% endif %}
        {% endfor %}
    {% endif %}

    {% if is_granted('ROLE_ADMIN') %}
        <hr/>
        <ul class="list-unstyled">
            <li><a href="{{ path('theme_new') }}">New Theme</a></li>
            <li><a href="{{ path('module_new') }}"> New Module</a></li>
            <li><a href="{{ path('objective_new') }}"> New Objective</a></li>
            <li><a id='file_new_upload' title='Upload Resource' href="{{ path('file_new') }}"><i class="glyphicon glyphicon-upload"></i> Upload
                    Resource</a></li>
            <li><a id='file_new_upload' title='Upload Resource' href="{{ path('file_new', {'type': 'link'}) }}"><i class="glyphicon glyphicon-link"></i>
                    Link to
                    Resource</a></li>
            <li><a title='New Activity' href="{{ path('activity_new') }}">New Activity</a></li>

            <li><a href="{{ path('tag_new') }}"> New Label</a></li>
            <li><a href="{{ path('opportunity_new') }}">New Opportunity</a></li>
            <hr/>
            Maps
            <li><a href="{{ path('mapset_new') }}">New Map</a></li>
            <li><a href="{{ path('map') }}"> List Map Points</a></li>
            <li><a href="{{ path('map_new') }}">New Map Pin</a></li>
            <hr/>
            Pages
            <li><a href="{{ path('section') }}"> List Sections</a></li>
            <li><a href="{{ path('section_new') }}">New Section</a></li>
            <li><a href="{{ path('page') }}"> List Pages</a></li>
            <li><a href="{{ path('page_new') }}">New Page</a></li>
        </ul>
    {% endif %}
{% endblock %}
